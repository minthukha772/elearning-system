<!DOCTYPE html>
<html lang="en">
  <html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extrasspringsecurity4"
  >
    <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> -->
      <link rel="stylesheet" th:href="@{/css/bootstrap.css}" />
      <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js}"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"
      ></script>
      <!-- <link rel="stylesheet" type="text/css" href="../static/css/ST0003_TakeALeave.css"> -->
      <script
        type="text/javascript"
        language="javascript"
        src="https://code.jquery.com/jquery-3.5.1.js"
      ></script>
      <!-- <script src="//code.jquery.com/jquery-1.12.4.js"></script> -->
      <!-- <script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script> -->
      <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script> -->
      <!-- <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.12.1/jquery-ui.js"></script> -->

      <title>Pyinnyar Subuu</title>

      <link rel="icon" type="image/x-icon" href="/images/fav.png" />
      <link rel="icon" type="image/x-icon" href="/images/fav.png" />
      <style>
        html,
        body {
          height: 100%;
          margin: 0;
          position: relative;
          overflow: auto;
        }

        .wrapper {
          min-height: 100%;
          margin-bottom: -50px;
        }

        body {
          background-color: #f0f0f0;
        }

        .push {
          height: 50px;
        }

        /* .completecard {
      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
      margin-left: auto;
      margin-right: auto;
      width: 50%;
      border-radius: 10px;
      width: 800px;
    } */

        .card-header {
          text-align: center;
          background-color: whitesmoke;
          height: 50px;
        }

        .footer-link {
          margin-top: 40px;
          padding: 40px 0 30px 0;
          background-color: #dad9d9;
        }

        .footer-link ul {
          padding: 0;
        }

        .footer-link ul li {
          list-style-type: none;
          float: left;
        }

        .footer-link ul li a {
          font-weight: 600;
          text-decoration: none;
          font-size: 14px;
          color: rgb(0, 0, 0);
          display: block;
          padding: 5px 15px;
        }

        .footer-link ul li a:hover {
          color: #f549ec;
        }

        .footer-link ul li.active a {
          color: #f549ec;
        }

        .footer-social {
          background-color: #dad9d9;
          color: rgb(0, 0, 0);
        }

        .copy-c {
          padding: 15px 0;
        }
      </style>
    </head>

    <body>
      <!-- Hello -->
      <div class="wrapper">
        <div th:replace="${nav_type}"></div>

        <nav aria-label="breadcrumb" style="--bs-breadcrumb-divider: '>'">
          <ol class="breadcrumb">
            <th:block th:each="bc : ${breadcrumbList}">
              <!-- TODO change last route color -->
              <li class="breadcrumb-item">
                <a
                  th:href="@{/}"
                  th:utext="${bc}"
                  style="text-decoration: none"
                ></a>
              </li>
              <!-- <li class="breadcrumb-item active"><a href="#" th:utext="${state.last}"></a></li> -->
            </th:block>
            <li
              class="breadcrumb-item active"
              aria-current="page"
              th:text="${Absent}"
            >
              Absent
            </li>
          </ol>
        </nav>

        <!-- new code -->
        <div class="row">
          <div class="col-lg-6 col-sm-8 mx-auto">
            <div class="card completecard">
              <h3 class="card-header" style="border-radius: 10px 10px 0 0">
                Take A Leave
              </h3>
              <div class="card-body">
                <form
                  id="inquiry-form"
                  method="post"
                  th:action="@{${postAction}}"
                  th:object="${leave}"
                >
                  <div class="row form-sec-header">
                    <div class="col-lg-12 text-center">
                      <p></p>
                    </div>
                  </div>

                  <div class="form-group row mb-3">
                    <div class="col-lg-1"></div>
                    <label for="coursename" class="col-lg-2 col-form-label"
                      >Course Name</label
                    >

                    <div class="col-lg-6">
                      <label
                        for="coursename"
                        class="col-form-label"
                        th:text="${course}"
                      ></label>
                    </div>
                    <!--div class="col-lg-3">
                  <input type="email" class="form-control" id="inputEmail" placeholder="姓" required>
                </div-->
                  </div>

                  <div class="form-group row mb-3">
                    <div class="col-lg-1"></div>
                    <label for="teachername" class="col-lg-2 col-form-label"
                      >Teacher Name</label
                    >

                    <div class="col-lg-6">
                      <label
                        for="teachername"
                        class="col-form-label"
                        th:text="${name}"
                      ></label>
                    </div>
                  </div>

                  <div class="form-group row mb-3">
                    <div class="col-lg-1"></div>
                    <label for="about" class="col-lg-2 col-form-label"
                      >Date</label
                    >

                    <div class="col-lg-3">
                      <!-- <input id="datepicker9" class="form-control" placeholder="yyyy-mm-dd"> -->
                      <input
                        type="date"
                        id="date9"
                        class="form-control"
                        placeholder="dd-mm-yyy"
                        name="leaveDate"
                        th:field="*{leaveDate}"
                        required
                      />
                    </div>
                    <!-- <label for="date" class="col-lg-2 col-form-label">To Date</label>
                  
                  <div class="col-lg-3"> -->
                    <!-- <input id="datepicker10" class="form-control" placeholder="yyyy-mm-dd"> -->
                    <!-- <input type="date" id="date10" class="form-control" placeholder="dd-mm-yyy" name="leaveEndDate" th:field="*{leaveEndDate}" required> -->

                    <!-- </div> -->
                  </div>

                  <div class="form-group row mb-3">
                    <div class="col-lg-1"></div>
                    <label for="time" class="col-lg-2 col-form-label"
                      >Time</label
                    >

                    <div class="col-lg-8 row">
                      <div class="col-lg-4">
                        <label for="time" class="col-form-label">From</label>
                        <input
                          type="time"
                          id="startTime"
                          class="form-control"
                          th:field="*{leaveStartTime}"
                          name="leaveStartTime"
                        />
                      </div>
                      <div class="col-lg-1"></div>
                      <div class="col-lg-4">
                        <label for="time" class="col-form-label">To</label>
                        <input
                          type="time"
                          id="endTime"
                          class="form-control"
                          th:field="*{leaveEndTime}"
                          name="leaveEndTime"
                        />
                      </div>
                    </div>
                  </div>

                  <div class="form-group row mb-3">
                    <div class="col-lg-1"></div>
                    <label for="reason" class="col-lg-2 col-form-label"
                      >Reason</label
                    >

                    <div class="col-lg-6">
                      <textarea
                        class="form-control"
                        id="inputEmail"
                        placeholder="reason"
                        th:field="*{reason}"
                        name="reason"
                        required
                      ></textarea>

                      <!-- <input type="hidden" id="LeaveID" th:field="*{leaveId}"> -->
                    </div>
                  </div>

                  <div class="form-group row mb-3">
                    <div class="col-lg-3"></div>

                    <div class="row col-lg-8">
                      <div class="col-lg-4">
                        <button
                          id="btnReset"
                          type="reset"
                          class="btn btn-spacing btn-secondary center-block"
                          style="width: 125px"
                          OnClick="btnClear_Click"
                        >
                          Reset
                        </button>
                      </div>
                      <div class="col-lg-4">
                        <button
                          id="btnReg"
                          type="submit"
                          class="btn btn-spacing btn-primary center-block"
                          style="width: 150px"
                          onclick="return btnRegister_Click()"
                        >
                          Submit
                        </button>
                      </div>
                    </div>
                  </div>

                  <!--div class="form-group row text-center">
                    <button type="submit" class="btn">お問い合わせする</button>
                  </div-->
                </form>
              </div>
            </div>
          </div>
        </div>

        <div class="push"></div>
      </div>
      <!-- Hello -->

      <!-- footer -->
      <div th:replace="fragments/footer"></div>

      <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
      <!-- Footer -->
      <script>
        function btnRegister_Click() {
          var startTime = $("#startTime").val();
          var endTime = $("#endTime").val();

          st = minFromMidnight(startTime);
          et = minFromMidnight(endTime);
          if (st > et) {
            alert("Start time must be later than end time");
            return false;
          }

          function minFromMidnight(tm) {
            var ampm = tm.substr(-2);
            var clk = tm.substr(0, 5);
            var m = parseInt(clk.match(/\d+$/)[0], 10);
            var h = parseInt(clk.match(/^\d+/)[0], 10);
            h += ampm.match(/pm/i) ? 12 : 0;
            return h * 60 + m;
          }
        }

        // $('#btnReg').onclick(function(){

        // var startTime = $('#time1').val();
        // var endTime   = $('#time2').val();

        // st = minFromMidnight(startTime);
        // et = minFromMidnight(endTime);
        // if(st>et){
        //     alert("終了時間を開始時間より後の時間に指定して下さい！");
        //     return false;
        // }

        // function minFromMidnight(tm){
        // var ampm= tm.substr(-2)
        // var clk = tm.substr(0, 5);
        // var m  = parseInt(clk.match(/\d+$/)[0], 10);
        // var h  = parseInt(clk.match(/^\d+/)[0], 10);
        // h += (ampm.match(/pm/i))? 12: 0;
        // return h*60+m;
        // }
        // });
      </script>
    </body>
  </html>
</html>
